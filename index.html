<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>速記練習用</title>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>
<body>
  <script>
    function ShowAlert() {
      alert("Hello world!!");
    }
    // 文字を分割する
    function splitStringIntoChunks(inputString, chunkSize = 5) {
      const result = [];
      for (let i = 0; i < inputString.length; i += chunkSize) {
        result.push(inputString.slice(i, i + chunkSize));
      }
      return result;
    }

    // 分割した文字列からHTML要素を作成して追加
    function createElementsFromChunks(chunks) {
      const container = document.getElementById("Genkou");

      chunks.forEach(chunk => {
        const newElement = document.createElement("span"); // 新しいHTML要素（段落）を作成
        newElement.textContent = chunk; // 分割された文字列を設定
        container.appendChild(newElement); // コンテナに追加
      });

      document.body.appendChild(container); // ページのbodyにコンテナを追加
    }
    // 10秒ごとにハイライト
    async function logSpanTagsWithDelay() {
      // 対象の要素を取得
      const targetElement = document.getElementById('Genkou');

      if (targetElement) {
        // 対象要素内のすべての<span>タグを取得
        const spanTags = targetElement.getElementsByTagName("span");

        // 非同期で1つずつ処理
        for (let i = 0; i < spanTags.length; i++) {
          console.log(spanTags[i].textContent); // spanタグのテキストを出力
          spanTags[i].classList.add('mark');
          await new Promise(resolve => setTimeout(resolve, 10000)); // 10秒待機
          spanTags[i].classList.remove('mark');
        }

        console.log("全ての<span>タグの処理が完了しました。");
      } else {
        console.warn(`ID の要素が見つかりません。`);
      }
    }
    function start() {
      let Textarea = document.getElementById('textarea');
      let texttext = Textarea.value.trim();
      console.log(texttext);

      let Genkou = document.getElementById('Genkou');
      console.log(Genkou);
      // 文字列を分割
      const chunks = splitStringIntoChunks(texttext);
      createElementsFromChunks(chunks);
      logSpanTagsWithDelay();
    }
  </script>
  <header>
    <div class="container">
      <div class="header-left">
        速記練習
      </div>
      <span class="fa fa-bars menu-icon"></span>
      <div class="header-right">
        <a href="#">新規登録</a>
        <a href="#" class="login">ログイン</a>
      </div>
    </div>
  </header>
  <div class="top-wrapper">
    <div class="container">
      <textarea class="example" type="text" id="textarea" name="textarea">
      </textarea>
      <div id="Genkou"></div>
      <div class="btn-wrapper">
        <button type="button" class="btn signup" onclick="start()">START</button>
        <p>or</p>
        <a href="#" class="btn facebook"><span class="fa fa-facebook"></span>Facebookで登録</a>
        <a href="#" class="btn twitter"><span class="fa fa-twitter"></span>Twitterで登録</a>
        <button type="button" onclick="ShowAlert()">ここをクリック</button>
      </div>
    </div>
  </div>
  <div class="lesson-wrapper">
    <div class="container">
      <div class="heading">
        <h2>Learn Where to Get Started!</h2>
      </div>
      <div class="lessons">
        <div class="lesson">
          <div class="lesson-icon">
            <img src="https://prog-8.com/images/html/advanced/html.png">
            <p>HTML & CSS</p>
          </div>
          <p class="text-contents">ウェブページの作成に使用される言語です。HTMLとCSSを組み合わせることで、静的なページを作り上げることができます。</p>
        </div>
        <div class="lesson">
          <div class="lesson-icon">
            <img src="https://prog-8.com/images/html/advanced/jQuery.png">
            <p>jQuery</p>
          </div>
          <p class="text-contents">素敵な動きを手軽に実装できるJavaScriptライブラリです。 アニメーション効果をつけたり、Ajax（エイジャックス）を使って外部ファイルを読み込んだりと色々なことができます。</p>
        </div>
        <div class="lesson">
          <div class="lesson-icon">
            <img src="https://prog-8.com/images/html/advanced/ruby.png">
            <p>Ruby</p>
          </div>
          <p class="text-contents">オープンソースの動的なプログラミング言語で、 シンプルさと高い生産性を備えています。大きなWebアプリケーションから小さな日用ツールまで、さまざまなソフトウェアを作ることができます。</p>
        </div>
        <div class="lesson">
          <div class="lesson-icon">
            <img src="https://prog-8.com/images/html/advanced/php.png">
            <p>PHP</p>
          </div>
          <p class="text-contents">HTMLだけではページの内容を変えることはできません。PHPはHTMLにプログラムを埋め込み、それを可能にします。</p>
        </div>
      </div>
      <div class="clear"></div>
    </div>
  </div>
  <div class="message-wrapper">
    <div class="container">
      <div class="heading">
        <h2>さぁ、あなたもProgateでプログラミングを学んでみませんか?</h2>
        <h3>Let's learn to code, learn to be creative!</h3>
      </div>
      <span class="btn message">さっそく開発する</span>
    </div>
  </div>
  <footer>
    <div class="container">
      <img src="https://prog-8.com/images/html/advanced/footer_logo.png">
      <p>Learn to Code, Learn to be Creative.</p>
    </div>
  </footer>
</body>
</html>
